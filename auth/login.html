<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In | Tranquil Thoughts</title>
    <script src="https://kit.fontawesome.com/e1dd270f5d.js" crossorigin="anonymous"></script>
    <!-- Firebase App (required) -->
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"></script>
    <!-- Firebase Auth (required for authentication) -->
    <script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/login.css">
</head>
<body>
    <form action="" class="signUp active" method="post">
        <h2>Sign Up</h2>
        <div class="social-login">
            <a class="social-btn google-btn" id="GoogleSignUp">
                <i class="fa-brands fa-google"></i>Sign up with Google
            </a>
            <a class="social-btn apple-btn" id="AppleSignUp">
                <i class="fa-brands fa-apple"></i>Sign up with Apple
            </a>
        </div>
        <div class="form-separator">or</div>
        <div class="name">
            <input type="text" name="" id="" placeholder="First Name" required aria-label="First Name">
            <input type="text" name="" id="" placeholder="Last Name" required aria-label="Last Name">
        </div>
        <input type="email" name="" id="" placeholder="Email" required aria-label="Email">
        <input type="password" name="" id="" placeholder="Password" required aria-label="Password">
        <div class="switch">
            <a class="btn in" onclick="showSignIn();">Sign In</a>
            <button class="btn up"> Sign Up</button>
        </div>
    </form>

    <form action="" class="signIn" method="post">
        <h2>Sign In</h2>
        <div class="social-login">
            <a class="social-btn google-btn" id="GoogleSignIn">
                <i class="fa-brands fa-google"></i>Sign in with Google
            </a>
            <a class="social-btn apple-btn" id="AppleSignIn">
                <i class="fa-brands fa-apple"></i>Sign in with Apple
            </a>
        </div>
        <div class="form-separator">or</div>
        <input type="email" placeholder="Email" required aria-label="Email">
        <input type="password" placeholder="Password" required aria-label="Password">
        <div class="switch">
            <a class="btn in" onclick="showSignUp();">Sign Up</a>
            <button class="btn up"> Sign In</button>
        </div>
    </form>

    <script src="../js/main.js"></script>
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBd_Bf-a5g8sNBD0zUXF6XTOKt3n6XD4vw",
            authDomain: "tranquil-thoughts.firebaseapp.com",
            projectId: "tranquil-thoughts",
            storageBucket: "tranquil-thoughts.appspot.com",
            messagingSenderId: "46951344026",
            appId: "1:46951344026:web:d6c924c18c9b52f5ce7c23"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // Set up Google Auth provider
        const provider = new firebase.auth.GoogleAuthProvider();

        // Sign In button event listener
        document.getElementById('GoogleSignIn').addEventListener('click', () => {
            firebase.auth().signInWithPopup(provider)
            .then((result) => {
                window.location.href = '../src/dashboard.html';
            })
            .catch((error) => {
                console.error('Error during Google Sign-in:', error);
            });
        });

        // Sign Up button event listener (optional, if you want separate logic for sign-up)
        document.getElementById('GoogleSignUp').addEventListener('click', () => {
            firebase.auth().signInWithPopup(provider)
            .then((result) => {
                window.location.href = '../src/dashboard.html';
            })
            .catch((error) => {
                console.error('Error during Google Sign-up:', error);
            });
        });
    </script>
</body>
</html>
